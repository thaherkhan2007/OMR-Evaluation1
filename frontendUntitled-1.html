<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exam Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .slide-in { animation: slideIn 0.3s ease-out; }
        @keyframes slideIn { from { transform: translateX(-100%); } to { transform: translateX(0); } }
        .pulse-success { animation: pulseSuccess 2s infinite; }
        @keyframes pulseSuccess { 0%, 100% { background-color: #10b981; } 50% { background-color: #059669; } }
        .verification-progress { 
            background: linear-gradient(90deg, #10b981 var(--progress, 0%), #e5e7eb var(--progress, 0%));
            transition: all 0.5s ease;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- Page 1: Login Portal -->
    <div id="loginPage" class="min-h-screen flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md fade-in">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800 mb-2">Exam Management System</h1>
                <div class="bg-yellow-100 border-l-4 border-yellow-500 p-3 mb-4">
                    <p class="text-sm text-yellow-700 font-medium">🚨 DEMO VERSION - Sample Interface Only</p>
                </div>
            </div>
            
            <div class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Select User Type</label>
                    <select id="userType" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <option value="admin">Admin (Teacher)</option>
                        <option value="student">Student</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Username</label>
                    <input type="text" placeholder="Enter username (demo only)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Access Code</label>
                    <input type="text" placeholder="Enter access code (demo only)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                
                <button onclick="showQuestionSetup()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 transform hover:scale-105">
                    Enter System (Demo)
                </button>
            </div>
        </div>
    </div>

    <!-- Page 2: Question & Answer Key Setup -->
    <div id="questionSetupPage" class="hidden min-h-screen p-6">
        <div class="max-w-6xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-8 fade-in">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800">Question & Answer Key Setup</h2>
                    <div class="bg-green-100 px-4 py-2 rounded-lg">
                        <span class="text-green-800 font-medium">Admin Panel</span>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-700">Select Subject</h3>
                        <select id="subjectSelect" class="w-full p-3 border border-gray-300 rounded-lg mb-6 focus:ring-2 focus:ring-blue-500">
                            <option value="computer-science">Computer Science</option>
                            <option value="physics">Physics</option>
                            <option value="chemistry">Chemistry</option>
                            <option value="maths">Mathematics</option>
                            <option value="history">History</option>
                        </select>

                        <h3 class="text-xl font-semibold mb-4 text-gray-700">Sample Questions</h3>
                        <div class="space-y-4 max-h-96 overflow-y-auto">
                            <div class="border border-gray-200 rounded-lg p-4">
                                <p class="font-medium mb-2">Q1. What is the time complexity of binary search?</p>
                                <div class="grid grid-cols-2 gap-2 text-sm">
                                    <label class="flex items-center"><input type="radio" name="q1" class="mr-2"> O(n)</label>
                                    <label class="flex items-center"><input type="radio" name="q1" class="mr-2" checked> O(log n)</label>
                                    <label class="flex items-center"><input type="radio" name="q1" class="mr-2"> O(n²)</label>
                                    <label class="flex items-center"><input type="radio" name="q1" class="mr-2"> O(1)</label>
                                </div>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-4">
                                <p class="font-medium mb-2">Q2. Which data structure uses LIFO principle?</p>
                                <div class="grid grid-cols-2 gap-2 text-sm">
                                    <label class="flex items-center"><input type="radio" name="q2" class="mr-2"> Queue</label>
                                    <label class="flex items-center"><input type="radio" name="q2" class="mr-2" checked> Stack</label>
                                    <label class="flex items-center"><input type="radio" name="q2" class="mr-2"> Array</label>
                                    <label class="flex items-center"><input type="radio" name="q2" class="mr-2"> Tree</label>
                                </div>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-4">
                                <p class="font-medium mb-2">Q3. What does SQL stand for?</p>
                                <div class="grid grid-cols-1 gap-2 text-sm">
                                    <label class="flex items-center"><input type="radio" name="q3" class="mr-2"> Simple Query Language</label>
                                    <label class="flex items-center"><input type="radio" name="q3" class="mr-2" checked> Structured Query Language</label>
                                    <label class="flex items-center"><input type="radio" name="q3" class="mr-2"> Standard Query Language</label>
                                    <label class="flex items-center"><input type="radio" name="q3" class="mr-2"> System Query Language</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-700">Answer Key Summary</h3>
                        <div class="bg-gray-50 rounded-lg p-6 mb-6">
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="font-medium">Question 1:</span>
                                    <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">B) O(log n)</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="font-medium">Question 2:</span>
                                    <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">B) Stack</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="font-medium">Question 3:</span>
                                    <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">B) Structured Query Language</span>
                                </div>
                            </div>
                        </div>

                        <div class="space-y-4">
                            <button onclick="saveAnswerKey()" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200">
                                Save Answer Key
                            </button>
                            <button onclick="showUploadPage()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200">
                                Proceed to Student Answer Upload
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Page 3: PDF Upload & Scanning -->
    <div id="uploadPage" class="hidden min-h-screen p-6">
        <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-8 fade-in">
                <h2 class="text-3xl font-bold text-gray-800 mb-8">Student Answer Sheet Upload</h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-700">Upload PDF Answer Sheets</h3>
                        <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition duration-200">
                            <svg class="mx-auto h-12 w-12 text-gray-400 mb-4" stroke="currentColor" fill="none" viewBox="0 0 48 48">
                                <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            <p class="text-gray-600 mb-2">Drop PDF files here or click to browse</p>
                            <p class="text-sm text-gray-500">Support for multiple PDF files (Demo Only)</p>
                            <input type="file" multiple accept=".pdf" class="hidden" id="pdfUpload">
                            <button onclick="document.getElementById('pdfUpload').click()" class="mt-4 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition duration-200">
                                Select Files (Demo)
                            </button>
                        </div>

                        <div class="mt-6">
                            <button onclick="simulateUpload()" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200">
                                Simulate Upload Process
                            </button>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-700">Upload Status</h3>
                        <div id="uploadStatus" class="space-y-3">
                            <div class="text-gray-500 text-center py-8">
                                <p>No files uploaded yet</p>
                                <p class="text-sm">Click "Simulate Upload Process" to see demo</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Page 4: Verification Dashboard -->
    <div id="verificationPage" class="hidden min-h-screen p-6">
        <div class="max-w-6xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-8 fade-in">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800">Answer Verification Dashboard</h2>
                    <div class="bg-blue-100 px-4 py-2 rounded-lg">
                        <span class="text-blue-800 font-medium">Auto-Verification: 10 papers in 50 seconds</span>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                    <div class="bg-blue-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-blue-800 mb-2">Total Papers</h3>
                        <p class="text-3xl font-bold text-blue-600">100</p>
                    </div>
                    <div class="bg-yellow-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-yellow-800 mb-2">Processing</h3>
                        <p class="text-3xl font-bold text-yellow-600" id="processingCount">0</p>
                    </div>
                    <div class="bg-green-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-green-800 mb-2">Completed</h3>
                        <p class="text-3xl font-bold text-green-600" id="completedCount">0</p>
                    </div>
                </div>

                <div class="mb-8">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-semibold text-gray-700">Verification Progress</h3>
                        <span id="progressText" class="text-sm text-gray-600">Ready to start</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-4 mb-4">
                        <div id="progressBar" class="verification-progress h-4 rounded-full" style="--progress: 0%"></div>
                    </div>
                    <button onclick="startVerification()" id="verifyBtn" class="bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition duration-200">
                        Start Auto-Verification
                    </button>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-700">Live Verification Feed</h3>
                        <div id="verificationFeed" class="bg-gray-50 rounded-lg p-4 h-64 overflow-y-auto">
                            <p class="text-gray-500 text-center py-8">Verification feed will appear here...</p>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-700">Subject-wise Progress</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span>Computer Science</span>
                                <span class="bg-gray-200 px-3 py-1 rounded-full text-sm" id="cs-progress">0/20</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span>Physics</span>
                                <span class="bg-gray-200 px-3 py-1 rounded-full text-sm" id="physics-progress">0/20</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span>Chemistry</span>
                                <span class="bg-gray-200 px-3 py-1 rounded-full text-sm" id="chemistry-progress">0/20</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span>Mathematics</span>
                                <span class="bg-gray-200 px-3 py-1 rounded-full text-sm" id="maths-progress">0/20</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span>History</span>
                                <span class="bg-gray-200 px-3 py-1 rounded-full text-sm" id="history-progress">0/20</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Page 5: Results & Excel Export -->
    <div id="resultsPage" class="hidden min-h-screen p-6">
        <div class="max-w-6xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-8 fade-in">
                <h2 class="text-3xl font-bold text-gray-800 mb-8">Exam Results Summary</h2>

                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-green-50 rounded-lg p-6 text-center">
                        <h3 class="text-lg font-semibold text-green-800 mb-2">Passed</h3>
                        <p class="text-4xl font-bold text-green-600">73</p>
                        <p class="text-sm text-green-700">73% Pass Rate</p>
                    </div>
                    <div class="bg-red-50 rounded-lg p-6 text-center">
                        <h3 class="text-lg font-semibold text-red-800 mb-2">Failed</h3>
                        <p class="text-4xl font-bold text-red-600">27</p>
                        <p class="text-sm text-red-700">27% Fail Rate</p>
                    </div>
                    <div class="bg-blue-50 rounded-lg p-6 text-center">
                        <h3 class="text-lg font-semibold text-blue-800 mb-2">Average Score</h3>
                        <p class="text-4xl font-bold text-blue-600">76.5</p>
                        <p class="text-sm text-blue-700">Out of 100</p>
                    </div>
                    <div class="bg-purple-50 rounded-lg p-6 text-center">
                        <h3 class="text-lg font-semibold text-purple-800 mb-2">Highest Score</h3>
                        <p class="text-4xl font-bold text-purple-600">98</p>
                        <p class="text-sm text-purple-700">Excellent!</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-700">Subject-wise Performance</h3>
                        <div class="space-y-4">
                            <div class="border border-gray-200 rounded-lg p-4">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="font-medium">Computer Science</span>
                                    <span class="text-green-600 font-semibold">82% avg</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-green-500 h-2 rounded-full" style="width: 82%"></div>
                                </div>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-4">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="font-medium">Physics</span>
                                    <span class="text-blue-600 font-semibold">78% avg</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-blue-500 h-2 rounded-full" style="width: 78%"></div>
                                </div>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-4">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="font-medium">Chemistry</span>
                                    <span class="text-purple-600 font-semibold">75% avg</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-purple-500 h-2 rounded-full" style="width: 75%"></div>
                                </div>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-4">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="font-medium">Mathematics</span>
                                    <span class="text-yellow-600 font-semibold">71% avg</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-yellow-500 h-2 rounded-full" style="width: 71%"></div>
                                </div>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-4">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="font-medium">History</span>
                                    <span class="text-red-600 font-semibold">68% avg</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-red-500 h-2 rounded-full" style="width: 68%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-700">Top Performers</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center p-3 bg-yellow-50 rounded-lg">
                                <div>
                                    <p class="font-semibold">🥇 Student ID: 2024001</p>
                                    <p class="text-sm text-gray-600">All subjects passed</p>
                                </div>
                                <span class="text-2xl font-bold text-yellow-600">98</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                <div>
                                    <p class="font-semibold">🥈 Student ID: 2024045</p>
                                    <p class="text-sm text-gray-600">All subjects passed</p>
                                </div>
                                <span class="text-2xl font-bold text-gray-600">95</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-orange-50 rounded-lg">
                                <div>
                                    <p class="font-semibold">🥉 Student ID: 2024078</p>
                                    <p class="text-sm text-gray-600">All subjects passed</p>
                                </div>
                                <span class="text-2xl font-bold text-orange-600">92</span>
                            </div>
                        </div>

                        <div class="mt-6 space-y-3">
                            <button onclick="generateExcel()" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 flex items-center justify-center">
                                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M3 17a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2zM3 5a1 1 0 011-1h12a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V5zM5 7v4h2V9h2v2h2V7H5z"/>
                                </svg>
                                Generate Excel Report
                            </button>
                            <button onclick="generatePPT()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 flex items-center justify-center">
                                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z"/>
                                </svg>
                                Generate PowerPoint Report
                            </button>
                        </div>
                    </div>
                </div>

                <div>
                    <h3 class="text-xl font-semibold mb-4 text-gray-700">Detailed Results Table</h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white border border-gray-200 rounded-lg">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Student ID</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">CS</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Physics</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Chemistry</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Maths</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">History</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Total</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                                </tr>
                            </thead>
                            <tbody id="resultsTableBody" class="divide-y divide-gray-200">
                                <!-- Results will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Navigation functions
        function showQuestionSetup() {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('questionSetupPage').classList.remove('hidden');
        }

        function showUploadPage() {
            document.getElementById('questionSetupPage').classList.add('hidden');
            document.getElementById('uploadPage').classList.remove('hidden');
        }

        function showVerificationPage() {
            document.getElementById('uploadPage').classList.add('hidden');
            document.getElementById('verificationPage').classList.remove('hidden');
        }

        function showResultsPage() {
            document.getElementById('verificationPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.remove('hidden');
            generateResultsTable();
        }

        // Answer key saving
        function saveAnswerKey() {
            alert('Answer key saved successfully! ✅\n\nDemo: Answer key for Computer Science has been saved with correct answers.');
        }

        // PDF upload simulation
        function simulateUpload() {
            const statusDiv = document.getElementById('uploadStatus');
            statusDiv.innerHTML = '<div class="text-center"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"></div><p>Processing PDF uploads...</p></div>';
            
            setTimeout(() => {
                statusDiv.innerHTML = `
                    <div class="space-y-3">
                        <div class="flex justify-between items-center p-3 bg-green-50 rounded-lg">
                            <span>CS_Answers_Batch1.pdf</span>
                            <span class="text-green-600 font-semibold">✅ 20 sheets</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-green-50 rounded-lg">
                            <span>Physics_Answers_Batch1.pdf</span>
                            <span class="text-green-600 font-semibold">✅ 20 sheets</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-green-50 rounded-lg">
                            <span>Chemistry_Answers_Batch1.pdf</span>
                            <span class="text-green-600 font-semibold">✅ 20 sheets</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-green-50 rounded-lg">
                            <span>Maths_Answers_Batch1.pdf</span>
                            <span class="text-green-600 font-semibold">✅ 20 sheets</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-green-50 rounded-lg">
                            <span>History_Answers_Batch1.pdf</span>
                            <span class="text-green-600 font-semibold">✅ 20 sheets</span>
                        </div>
                        <div class="mt-6">
                            <button onclick="showVerificationPage()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200">
                                Proceed to Verification
                            </button>
                        </div>
                    </div>
                `;
            }, 2000);
        }

        // Verification process
        function startVerification() {
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            const processingCount = document.getElementById('processingCount');
            const completedCount = document.getElementById('completedCount');
            const verificationFeed = document.getElementById('verificationFeed');
            const verifyBtn = document.getElementById('verifyBtn');
            
            verifyBtn.disabled = true;
            verifyBtn.textContent = 'Verifying...';
            verifyBtn.classList.add('opacity-50');
            
            let progress = 0;
            let completed = 0;
            const subjects = ['cs', 'physics', 'chemistry', 'maths', 'history'];
            let currentSubject = 0;
            let subjectProgress = [0, 0, 0, 0, 0];
            
            verificationFeed.innerHTML = '<div class="text-sm text-gray-600 mb-2">Starting verification process...</div>';
            
            const interval = setInterval(() => {
                progress += 2;
                completed += 2;
                
                // Update progress bar
                progressBar.style.setProperty('--progress', progress + '%');
                progressText.textContent = `${progress}% Complete - Processing at 10 papers per 50 seconds`;
                processingCount.textContent = Math.min(10, 100 - completed + 2);
                completedCount.textContent = completed;
                
                // Update subject progress
                const subjectIndex = Math.floor((completed - 1) / 20);
                if (subjectIndex < 5) {
                    subjectProgress[subjectIndex] = Math.min(20, completed - (subjectIndex * 20));
                    document.getElementById(subjects[subjectIndex] + '-progress').textContent = 
                        subjectProgress[subjectIndex] + '/20';
                }
                
                // Add verification feed entries
                if (completed % 10 === 0) {
                    const studentId = 2024000 + completed;
                    const score = Math.floor(Math.random() * 40) + 60; // Random score 60-100
                    const status = score >= 70 ? 'PASS' : 'FAIL';
                    const statusColor = score >= 70 ? 'text-green-600' : 'text-red-600';
                    
                    verificationFeed.innerHTML += `
                        <div class="text-sm border-b border-gray-200 pb-2 mb-2 slide-in">
                            <span class="font-medium">Student ${studentId}:</span> 
                            <span class="text-gray-600">Score ${score}/100</span> 
                            <span class="${statusColor} font-semibold">${status}</span>
                        </div>
                    `;
                    verificationFeed.scrollTop = verificationFeed.scrollHeight;
                }
                
                if (progress >= 100) {
                    clearInterval(interval);
                    progressText.textContent = 'Verification Complete! ✅';
                    processingCount.textContent = '0';
                    completedCount.textContent = '100';
                    
                    // Update all subject progress to complete
                    subjects.forEach((subject, index) => {
                        document.getElementById(subject + '-progress').textContent = '20/20';
                        document.getElementById(subject + '-progress').classList.remove('bg-gray-200');
                        document.getElementById(subject + '-progress').classList.add('bg-green-100', 'text-green-800');
                    });
                    
                    setTimeout(() => {
                        alert('Verification completed! 🎉\n\n✅ 100 papers processed\n⏱️ Completed in 50 seconds\n📊 Results are ready for review');
                        
                        // Add button to proceed to results
                        verificationFeed.innerHTML += `
                            <div class="mt-4 text-center">
                                <button onclick="showResultsPage()" class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition duration-200">
                                    View Results & Generate Reports
                                </button>
                            </div>
                        `;
                    }, 1000);
                }
            }, 500); // Update every 500ms for smooth animation
        }

        // Generate results table
        function generateResultsTable() {
            const tableBody = document.getElementById('resultsTableBody');
            let html = '';
            
            // Generate 100 student results
            for (let i = 1; i <= 100; i++) {
                const studentId = 2024000 + i;
                const cs = Math.floor(Math.random() * 40) + 60;
                const physics = Math.floor(Math.random() * 40) + 60;
                const chemistry = Math.floor(Math.random() * 40) + 60;
                const maths = Math.floor(Math.random() * 40) + 60;
                const history = Math.floor(Math.random() * 40) + 60;
                const total = Math.round((cs + physics + chemistry + maths + history) / 5);
                const status = total >= 70 ? 'PASS' : 'FAIL';
                const statusColor = total >= 70 ? 'text-green-600' : 'text-red-600';
                
                html += `
                    <tr class="hover:bg-gray-50">
                        <td class="px-4 py-3 text-sm font-medium text-gray-900">${studentId}</td>
                        <td class="px-4 py-3 text-sm text-gray-600">${cs}</td>
                        <td class="px-4 py-3 text-sm text-gray-600">${physics}</td>
                        <td class="px-4 py-3 text-sm text-gray-600">${chemistry}</td>
                        <td class="px-4 py-3 text-sm text-gray-600">${maths}</td>
                        <td class="px-4 py-3 text-sm text-gray-600">${history}</td>
                        <td class="px-4 py-3 text-sm font-semibold text-gray-900">${total}</td>
                        <td class="px-4 py-3 text-sm font-semibold ${statusColor}">${status}</td>
                    </tr>
                `;
            }
            
            tableBody.innerHTML = html;
        }

        // Excel generation simulation
        function generateExcel() {
            alert('📊 Excel Report Generated Successfully!\n\nDemo: In a real system, this would download an Excel file containing:\n\n✅ All 100 student results\n✅ Subject-wise analysis\n✅ Pass/Fail statistics\n✅ Performance charts\n✅ Individual answer sheets\n\nFile would be named: "Exam_Results_' + new Date().toISOString().split('T')[0] + '.xlsx"');
        }

        // PowerPoint generation simulation
        function generatePPT() {
            alert('📈 PowerPoint Report Generated Successfully!\n\nDemo: In a real system, this would download a PowerPoint presentation containing:\n\n✅ Executive summary slides\n✅ Performance analytics\n✅ Subject-wise breakdowns\n✅ Visual charts and graphs\n✅ Recommendations\n\nFile would be named: "Exam_Analysis_' + new Date().toISOString().split('T')[0] + '.pptx"');
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Add some initial animations
            setTimeout(() => {
                document.querySelector('.fade-in').classList.add('animate-pulse');
            }, 1000);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'981fce36d7c48b0f',t:'MTc1ODM1NTM5OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>